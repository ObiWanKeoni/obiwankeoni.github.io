<div>
  <button class="toggle-theme">
    <i class="lni lni-night"></i>
  </button>
</div>


<script>
const toggleDarkMode = document.querySelector('.toggle-theme');

const setTheme = function(theme) {
  jtd.setTheme(theme);
  switch(theme) {
    case 'catppuccin-light':
      toggleDarkMode.innerHTML = '<i class="lni lni-sun"></i>';
    case 'catppuccin':
      toggleDarkMode.innerHTML = '<i class="lni lni-night"></i>';
    default:
      toggleDarkMode.innerHTML = '<i class="lni lni-sun"></i>';
}

window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
  const newColorScheme = event.matches ? "catppuccin" : "catppuccin-light";
  setTheme(newColorScheme)
});

jtd.addEvent(toggleDarkMode, 'click', function(){
  if (jtd.getTheme() === 'catppuccin') {
    setTheme('catppuccin-light')
  } else {
    setTheme('catppuccin');
  }
});
</script>
